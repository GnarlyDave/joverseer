<txt2xml>
    <processor type="StringEnclosedMatch">
        <element>Turn</element>
        <startString>MEPBM GAMES</startString>
        <endString>TURNSHEET</endString>
        <processor type="StringEnclosedMatch">
        	<element>Diplomacy</element>
        	<startString>MEPBM GAMES</startString>
        	<endString>CENTERS</endString>

	        <processor type="RegexMatch">
	        	<element>Nation</element>
	        	<regex>Player #\s+:\s+(\d+)</regex>
	       	</processor>
	        <processor type="RegexMatch">
	        	<element>TurnNumber</element>
	        	<regex>Turn #\s+:\s+(\d+)</regex>
	       	</processor>
        	<processor type="RegexMatch">
        		<element>Allegiance</element>
        		<regex>\(A (Free People)\)</regex>
        	</processor>

        	 <processor type="StringEnclosedMatch">
	        	<element>NationRelations</element>
	        	<startString>RELATIONS WITH</startString>
    	    	<endString>POPULATION</endString>
		        	<processor type="RepeatRegexMatch">
		        		<element>NationRelation</element>
		        		<regex>(\p{L}+(?:[\s\-]\p{L}+)*\s+:\s+\w+)</regex>

		        		<processor type="RegexMatch">
		        			<element>Nation</element>
		        			<regex>(\p{L}+(?:[\s\-]\p{L}+)*)</regex>
		        		</processor>
		        		<processor type="RegexMatch">
		        			<element>Relation</element>
		        			<regex>(\w+)</regex>
		        		</processor>
		        	</processor>
        	</processor>
        </processor>
        <processor type="StringEnclosedMatch">
        	<!--  Get the region for the population centers -->
        	<element>PopulationCentres</element>
        	<startString>POPULATION CENTERS</startString>
        	<endString>ARMIES AND NAVIES</endString>

        	<processor type="RepeatRegexMatch">
        		<element>PopCentre</element>
                <regex>(\p{L}+(?:[\s-]\p{L}+)*\s+(?:\(Capital\))?\s+Location : @ \d{4} in [\p{L}\d\s:&amp;?.\-/]+[\d\-]&#13;)</regex>
                <processor type="RegexMatch">
                    <element>Name</element>
                    <regex>(\p{L}+(?:[\s\-]\p{L}+)*)\s+(?:\(Capital\))?\s+Location : @ </regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Hex</element>
        			<regex>(\d{4})</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Docks</element>
        			<regex>Docks : (\w+)</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Production</element>
        			<regex>Expected production\s+([\d\s]+)</regex>
	        		<processor type="RegexMatch">
	        			<element>Leather</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Bronze</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Steel</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Mithril</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Food</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Timber</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Mounts</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Gold</element>
	        			<regex>(\d+)</regex>
	        		</processor>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Stores</element>
        			<regex>Current stores\s+([\d\s]+\-)</regex>
	        		<processor type="RegexMatch">
	        			<element>Leather</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Bronze</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Steel</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Mithril</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Food</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Timber</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Mounts</element>
	        			<regex>(\d+)</regex>
	        		</processor>
	        		<processor type="RegexMatch">
	        			<element>Gold</element>
	        			<regex>(\-)</regex>
	        		</processor>
        		</processor>
       		</processor>
   		</processor>

		<processor type="StringEnclosedMatch">
        	<!--  Get the region for the population centers -->
        	<element>Armies</element>
        	<startString>ARMIES AND NAVIES</startString>
        	<endString>PANY COMMA</endString>

        	<processor type="StringEnclosedMatch">
        		<element>Army</element>
        		<startString>Army Comm|Navy Comm</startString>
        		<endString>Army Comm|Navy Comm|COM</endString>
        		<includeStart>true</includeStart>
        		<processor type="RegexMatch">
        			<element>Type</element>
        			<regex>(Navy|Army) Comm</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Commander</element>
        			<regex>ander : \p{L}+ (\p{L}+(?:[\s\-']+\p{L}+)*)\s+Location</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Warships</element>
        			<regex>Warships\s+:\s+(\d+)</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Transports</element>
        			<regex>Transports\s+:\s+(\d+)</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>Food</element>
        			<regex>Food\s+(\d+)</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>WarMachines</element>
        			<regex>War machines\s+(\d+)</regex>
        		</processor>
       		</processor>
   		</processor>
   		<processor type="StringEnclosedMatch">
   			<!--  get the region for the companies -->
        	<element>Companies</element>
        	<startString>NDERS :</startString>
        	<endString>MARKET PRICES</endString>

   			<processor type="RepeatRegexMatch">
   				<element>Company</element>
   				<regex>(\w+\s\p{L}+(?:[\s-]\p{L}+)*\s+Location\s:\s@\s\d{4}\s+Traveling with \w+ are : (?:\p{L}+(?:[\s-]\p{L}+)*(?:\s\-\s)?)+\.)</regex>

   				<processor type="RegexMatch">
   					<element>Commander</element>
   					<regex>\w+\s(\p{L}+(?:[\s-]\p{L}+)*)\s+Location</regex>
   				</processor>

   				<processor type="RegexMatch">
   					<element>Hex</element>
   					<regex>(\d{4})</regex>
   				</processor>

   				<processor type="RegexMatch">
   					<element>Member</element>
   					<regex> are : (\p{L}+(?:[\s-]\p{L}+)*)(?:\s\-\s)?</regex>
   				</processor>

   				<processor type="RepeatRegexMatch">
   					<element>Member</element>
   					<regex>(\p{L}+(?:[\s-]\p{L}+)*)(?:,)?</regex>
   				</processor>

	   		</processor>
   		</processor>
   		<processor type="StringEnclosedMatch">
   			<element>DoubleAgents</element>
   			<startString>the following double agents:</startString>
   			<endString>You have</endString>
   			<processor type="RepeatRegexMatch">
   				<element>DoubleAgent</element>
   				<regex>(\p{L}+(?:[\s-]\p{L}+)* of the \p{L}+(?:[\s\-]\p{L}+)* @ \d{4})</regex>
   				<processor type="RegexMatch">
   					<element>Character</element>
   					<regex>(\p{L}+(?:[\s-]\p{L}+)*) of the</regex>
   				</processor>
   				<processor type="RegexMatch">
   					<element>Hex</element>
   					<regex>(\d{4})</regex>
   				</processor>
   			</processor>
		</processor>
		<!--  get the region for the encounters -->
   		<processor type="StringEnclosedMatch">
        	<element>Encounters</element>
        	<startString>ENCOUNTER MESSAGES</startString>
        	<endString>COM</endString>

        	<processor type="StringEnclosedMatch">
        		<element>Encounter</element>
        		<startString>Encounter for</startString>
        		<endString>Encounter for|COM</endString>
        		<includeStart>true</includeStart>
        		<processor type="RegexMatch">
        			<element>Character</element>
        			<regex>Encounter for (\p{L}+(?:[\s-]\p{L}+)*) at </regex>
        		</processor>

        		<processor type="RegexMatch">
        			<element>Hex</element>
        			<regex>(\d{4})</regex>
        		</processor>

        		<processor type="Copy">
        			<element>Text</element>
        		</processor>

        	</processor>
        </processor>
        <processor type="StringEnclosedMatch">
   			
        	<element>Combats</element>
        	<startString>BAT MESSAGES</startString>
        	<endString>CIAL MESSAGES</endString>
            <processor type="StringEnclosedMatch">
                <element>Combat</element>
                <startString>Battle at</startString>
                <endString>Battle at|SPE</endString>
                <processor type="Copy">
                    <element>Narration</element>
                </processor>
                <processor type="RegexMatch">
                    <element>HexNo</element>
                    <regex>(\d{4})</regex>
                </processor>
                <processor type="StringEnclosedMatch">
                    <element>Army</element>
                    <startString>At the head</startString>
                    <endString>At the head|The Camp|The Village|The Town|The Major Town|The City|Report from</endString>
                </processor>
            </processor>
        </processor>
       <processor type="StringEnclosedMatch">
   			<!--  get the region for the character order results -->
        	<element>Orders</element>
        	<startString>ORDERS GIVEN</startString>
        	<endString>MEPBM GAMES</endString>
        	<processor type="RepeatRegexMatch">
        		<element>Character</element>
        		<regex>(\p{L}+(?:[\s-]\p{L}+)*\s+was located in [.\p{L}\d\-\.\s/?#&amp;&#13;:()]+\.)</regex>
        		<processor type="RegexMatch">
        			<element>Name</element>
        			<regex>(\p{L}+(?:[\s-]\p{L}+)*)\s+was located in</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>HexID</element>
        			<regex>(\d{4})\.</regex>
        		</processor>

        		<processor type="Copy">
        			<element>CharacterOrders</element>
        		</processor>

        		<processor type="RegexMatch">
        			<!--  Parse LA result with owner -->
        			<element>LocateArtifact</element>
        			<regex>(was ordered to cast a lore spell. Locate Artifact \- \p{L}+(?:[\s\p{L}']+)* #\d{1,3}\s+is\s+possessed\sby\s[\p{L}?]+(?:[\s\-]\p{L}+)?\sat\sor\snear\s\d{4})</regex>
        			<processor type="RegexMatch">
        				<element>ArtifactName</element>
        				<regex>\- (\p{L}+(?:[\s\p{L}']+)*)</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>ArtifactId</element>
        				<regex>#(\d{1,3})</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Owner</element>
        				<regex>possessed by\s([\p{L}?]+(?:\s\p{L}+)*) at</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Hex</element>
        				<regex>or near (\d{4})</regex>
        			</processor>
        		</processor>
        		
        		<processor type="RegexMatch">
        			<!--  Parse LA result without owner -->
        			<element>LocateArtifact</element>
        			<regex>(was ordered to cast a lore spell. Locate Artifact \- \p{L}+(?:[\s\p{L}']+)* #\d{1,3}\s+is\s+located\sat\sor\snear\s\d{4})</regex>
        			<processor type="RegexMatch">
        				<element>ArtifactName</element>
        				<regex>\- (\p{L}+(?:[\s\p{L}']+)*)</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>ArtifactId</element>
        				<regex>#(\d{1,3})</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Hex</element>
        				<regex>or near (\d{4})</regex>
        			</processor>
        		</processor>
        		
        		<processor type="RegexMatch">
        			<!--  Parse LAT result with owner -->
        			<element>LocateArtifactTrue</element>
        			<regex>(was ordered to cast a lore spell. Locate Artifact True \- \p{L}+(?:[\s\p{L}']+)* #\d{1,3}\s+is\s+possessed\s+by\s+\p{L}+(?:[\s\-]\p{L}+)*\sin\sthe\s\p{L}+(?:[\p{L}\s\-&amp;/]+)*\sat\s\d{4})</regex>
        			<processor type="RegexMatch">
        				<element>ArtifactName</element>
        				<regex>\- (\p{L}+(?:[\s\-']\p{L}+)*)</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>ArtifactId</element>
        				<regex>#(\d{1,3})</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Owner</element>
        				<regex>possessed\sby\s([\p{L}?]+(?:\s\p{L}+)*) in</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Hex</element>
        				<regex>at (\d{4})</regex>
        			</processor>
        		</processor>
        		
        		<processor type="RegexMatch">
        			<!--  Parse LAT result without owner -->
        			<element>LocateArtifactTrue</element>
        			<regex>(was ordered to cast a lore spell. Locate Artifact True \- \p{L}+(?:[\s\p{L}']+)* #\d{1,3}\s+is\s+located\sin\sthe\s\p{L}+(?:[\p{L}\s\-&amp;/]+)*\sat\s\d{4})</regex>
        			<processor type="RegexMatch">
        				<element>ArtifactName</element>
        				<regex>\- (\p{L}+(?:[\s\p{L}']+)*)</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>ArtifactId</element>
        				<regex>#(\d{1,3})</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Hex</element>
        				<regex>at (\d{4})</regex>
        			</processor>
        		</processor>

        		<processor type="RegexMatch">
        			<!--  Parse RC result with owner -->
        			<element>RevealCharacter</element>
        			<regex>(was ordered to cast a lore spell. Reveal Character \- [\p{L}?]+(?:[\s\-]\p{L}+)*\sis\slocated\sat\sor\snear\s+\d{4})</regex>
        			<processor type="RegexMatch">
        				<element>Character</element>
        				<regex>([\p{L}?]+(?:\s\p{L}+)*) is located</regex>
        			</processor>
        			<processor type="RegexMatch">
        				<element>Hex</element>
        				<regex>at or near\s+(\d{4})</regex>
        			</processor>
        		</processor>

        		<processor type="RegexMatch">
        			<element>Assassinated</element>
        			<regex>()\p{L}+(?:[\s-]\p{L}+)?\s+was assassinated\.</regex>
        		</processor>
        		<processor type="RegexMatch">
        			<element>SecondOrder</element>
        			<regex>((?:He|She) was ordered [.\p{L}\d\-\.\s/]+\.\r)</regex>
        		</processor>
        	</processor>
        </processor>
    </processor>
</txt2xml>